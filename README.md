# blockchain-validator
Simple express API that comunicate with a blockchain node to validate covid exams with a solidity smart contract.

Before running, make sure that you have set up a blockchain client, like Infura or Ganache, and deployed the solidity contract inside the folder "contracts" in the blockchain.
To run, its necessary to create a `.env` file with the following data:
```
CLIENT_HOST= Blockchain client host
CLIENT_PORT= Blockchain client port
CONTRACT_ADRESS= Adress generated by deploying the contract in blockchain
WALLET_ADRESS= Account adress with some amount of ether
```

With this created, just type `node app.js` on your terminal to start the server on 3000 port.

With the server up, send a post request with the json containing the cpf and exam result on http://localhost:3000/send to create or update an exam. 
```
{
    {"cpf":"111.111.111-11", "isInfected":false}
}
```

To check an exam result, send a post request on http://localhost:3000/checkExam with only the cpf to get the json containing the result.
```
{
    {"cpf":"111.111.111-11"}
}
```
